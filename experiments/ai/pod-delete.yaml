apiVersion: litmuschaos.io/v1alpha1
kind: ChaosEngine
metadata:
  name: nginx-chaos
spec:
  appinfo:   # Target application information
    appns: default
    applabel: app=nginx-1
    appkind: deployment
  chaosServiceAccount: litmus-admin
  monitoring: false
  jobCleanUpPolicy: delete
  experiments:
    - name: pod-delete
      spec:
        components:
          env:
            - name: TARGET_PODS
              value: "nginx-1"
          jobCleanupPolicy: delete
    - name: pod-network-latency
      spec:
        components:
          env:
            - name: TARGET_PODS
              value: "nginx-1"
            - name: TARGET_CONTAINER
              value: "nginx"
          jobCleanupPolicy: delete
    - name: pod-cpu-hog
      spec:
        components:
          env:
            - name: TARGET_PODS
              value: "nginx-1"
            - name: TARGET_CONTAINER
              value: "nginx"
          jobCleanupPolicy: delete
  schedule:
    interval: "1h"
    cron: "10 * * * *"
